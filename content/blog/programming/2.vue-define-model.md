---
createdAt: "2024/01/07"
updatedAt: ""
title: "ã€Vue.js 3.4ã€‘defineModelã‚’ä½¿ã£ãŸã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’ä½œã‚ã†"
description: "Vue.js 3.4ã§è¿½åŠ ã•ã‚ŒãŸdefineModelã®ä½¿ã„æ–¹ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚"
category: "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°"
tags:
  - "Vue.js"
thumbnail: "https://ashcolor-blog.s3.ap-northeast-1.amazonaws.com/img/blog/programming/vue-define-model/vue.png"
isRecommend: true
---

## ã¯ã˜ã‚ã«

2023å¹´12æœˆ29æ—¥ã€**Vue.js 3.4**ãŒãƒªãƒªãƒ¼ã‚¹ã¨ãªã‚Šã¾ã—ãŸğŸ‰

3.4ã§è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½ã¯ä»¥ä¸‹ã®ãƒ–ãƒ­ã‚°ã§ç¢ºèªã§ãã¾ã™ã€‚

:link-card{url="https://blog.vuejs.org/posts/vue-3-4"}

ã“ã®è¨˜äº‹ã§ã¯Vue.js 3.4ã®ä¸­ã§ç‰¹ã«ä¾¿åˆ©ã ã¨æ„Ÿã˜ãŸ`defineModel`ã«ã¤ã„ã¦ã€å®Ÿä¾‹ã‚’äº¤ãˆãªãŒã‚‰ä½¿ã„æ–¹ã‚’è§£èª¬ã—ã¾ã™ã€‚

## defineModelã‚’ä½¿ã£ãŸã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®ä½œæˆ

ã‚¤ãƒ³ãƒ—ãƒƒãƒˆå±æ€§ãŒå­˜åœ¨ã™ã‚‹DOMã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã™ã‚‹å ´åˆã€ä»Šã¾ã§ã¯å±æ€§ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®`props`ã¨ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸å€¤ã‚’å—ã‘æ¸¡ã™ãŸã‚ã®`emits`ã€ã©ã¡ã‚‰ã‚‚è¨˜è¼‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚

ä»Šå›è¿½åŠ ã•ã‚ŒãŸ`defineModel`ã‚’ä½¿ã†ã¨`props`ã¨`emits`ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãªãã€ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã«ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

![ä»Šå›ä½œæˆã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](https://ashcolor-blog.s3.ap-northeast-1.amazonaws.com/img/blog/programming/vue-define-model/define-model.png)

ã‚¤ãƒ³ãƒ—ãƒƒãƒˆéƒ¨åˆ†ãŒå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãªã£ã¦ãŠã‚Šã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã«å…¥åŠ›ã•ã‚ŒãŸå†…å®¹ã‚’è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¾“æ¥ã®è¨˜æ³•ã¨`defineModel`ã‚’æ´»ç”¨ã—ãŸè¨˜æ³•ã§ä½œæˆã—ã¦ã¿ã¾ã™ã€‚

### å¾“æ¥ã®è¨˜æ³•

`App.vue`

```vue [App.vue]
<script setup>
import Child from "./Child.vue";
import { ref } from "vue";

const msg = ref("Hello World!");
</script>

<template>
  <h1>{{ msg }}</h1>
  <Child v-model="msg" />
</template>
```

`Child.vue`

```vue [Child.vue]
<script setup>
const props = defineProps(["modelValue"]);
const emit = defineEmits(["update:modelValue"]);
</script>

<template>
  <input :value="props.modelValue" @input="(e) => emit('update:modelValue', e.target.value)" />
</template>
```

### defineModelã‚’æ´»ç”¨ã—ãŸè¨˜æ³•

App.vueã¯ä¸Šè¨˜ã¨åŒã˜ã§ã™ã€‚

`Child.vue`

```vue [Child.vue]
<script setup>
const model = defineModel();
</script>

<template>
  <input v-model="model" />
</template>
```

`props`ã¨`emits`ãŒãªããªã£ãŸã“ã¨ã«ã‚ˆã‚Šã€`script`ã‚¿ã‚°ã®ä¸­ã‚‚`template`ã‚¿ã‚°ã®ä¸­ã‚‚ç°¡æ½”ã«ãªã‚Šã¾ã—ãŸã€‚

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã®ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:link-card{url="https://play.vuejs.org/#eNqFUstqwzAQ/BVVF6eQ2pTcghNoQ6At9EFb6EWXYK8dpbIk9EgDxv/elZy4KYTkJO3ODDurUUvvtE63HuiU5rYwXDtiwXk9Z5I3WhlHFmsuSlIZ1ZAkzWIVBMlAaImBinR7Sg8xWShpHWlsTWYBHyUPIIQiX8qI8iq5ZjLP+nk4CQsHjRYrB1gRkq9v520bxV2XZ1jFbu9ke9OoEsSMUcQZJRmCeXakp2PqLI6veJ1urJK4Whv0jBaq0VyAedWOoz1GpyQiAVuhu5+n2HPGw/jQL9ZQfJ/ob+wu9Bh9M2DBbIHRAXMrU4Pr4eXHC+zwPoDo3gtknwHfwSrhg8eedu9libaPeNHtY3x/LutPu9w5kPawVDAamF3kM4qZLM6s/md3kk6ijskOX3HI+sTn2McbksCAS6i4hOdQjS5Ey6X27jjEcDL6P0Ta/QLnct5h"}

### è¤‡æ•°ã®v-modelã‚’æ¸¡ã™æ–¹æ³•

è¤‡æ•°ã®`v-model`ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€`v-model`å¼•æ•°ã‚’ç”¨ã„ã¦`v-model:å¤‰æ•°å`ã¨è¨˜è¿°ã—ã¾ã™ã€‚

å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯`defineModel`ã«å¼•æ•°ã‚’ä¸ãˆã¦`defineModel('å¤‰æ•°å')`ã¨è¨˜è¿°ã—ã¾ã™ã€‚

ä»¥ä¸‹ã«ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

`App.vue`

```vue [App.vue]
<script setup>
import { ref } from "vue";
import UserName from "./UserName.vue";

const first = ref("John");
const last = ref("Doe");
</script>

<template>
  <h1>{{ first }} {{ last }}</h1>
  <UserName v-model:first-name="first" v-model:last-name="last" />
</template>
```

`UserName.vue`

```vue [UserName.vue]
<script setup>
const firstName = defineModel("firstName");
const lastName = defineModel("lastName");
</script>

<template>
  <input type="text" v-model="firstName" />
  <input type="text" v-model="lastName" />
</template>
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã®ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:link-card{url="https://play.vuejs.org/#eNqFkstuwjAQRX/F8iZUAqKKHQpIfbAoUmnVx86bKEzANLEt26FUkf+9Y4MDSAg2UWbu9fjckVv6oNRw2wAd08wUmitLDNhGTZngtZLakpZoKIkjpZY1SdCadNK3Ab3IazhowzQ2/ES0MVFIYSwpucbvxA/qJXO5FsldlKr8qDxL8EKW7kEQAQsLtapyC1gRkq3vp217mOccwf8wwLksRSlYIoMvCNkOarmEahyODAT2J4yGgtFzhx8UDf5/r6c4NEs7CNqnpxkvbO0kcVjNhCyh5AJe/SW9pBPOV3DJGvu3dsKFaiyxf8qTW9gheQwVs4Z90BDm5oF47cF/Ht4aZC75argxUmD61g9ktJC14hXoN2U5ZmJ0TILitbyq5O889KxuoB/7xRqKnwv9jdn5HqPvGnDVWwTpNJvrFSCul2efi4DeiRigqdB9RfwAI6vGM+5tj41YIvaJL9C+hOfNxerLzHYWhImhPKh3uuBnFJ/A05XoR9zRcBTOMeGo+wcs+yse"}

### TypeScriptã§ã®ä½¿ç”¨

defineModelã®å‹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```vue [Child.vue]
<script setup lang="ts">
const model = defineModel<string>();
</script>
```

## å‚è€ƒ

- Announcing Vue 3.4

:link-card{url="https://blog.vuejs.org/posts/vue-3-4"}

- Component v-model

:link-card{url="https://ja.vuejs.org/guide/components/v-model.html"}

- defineModel

:link-card{url="https://ja.vuejs.org/api/sfc-script-setup#definemodel"}
